<div class="panel panel-primary" ng-controller="personController" ng-init="viewModel.init()">
    <div class="panel-heading">
        <div class="row">
            <div class="col-lg-6">
                <input type="text" name="searchBox" class="form-control" ng-model="viewModel.search" ng-model-options="{ debounce: 500 }" placeholder="Search People"/>
            </div>
            <div class="col-lg-4">
                
            </div>
            <div class="col-lg-2">
                <button class="btn btn-success" id="addPersonBtn" ng-click="viewModel.addNewPerson()">Add New Person</button>
                <button class="btn btn-success" id="refreshBtn" title="Refresh" ng-click="viewModel.reloadPersonDataSource()">
                    <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>
    <div class="panel-body">

        <div class="row" ng-show="!viewModel.dataReady">
            <div class="col-lg-12 col-md-12 progress-bar-wrapper">
                <div class="center-block" style="width: 80%;">
                    <div class="progress progress-striped active" style="width: 100%">
                        <div class="progress-bar progress-bar-primary" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                            <span>Loading...</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row" ng-show="viewModel.dataReady">
            <div class="col-lg-12">
                <div class="table-responsive">                    
                    <table class="table table-hover">
                        <thead>
                            <tr class="active">
                                <th>#</th>
                                <th>First Name</th>
                                <th>Last Name</th>
                                <th>Age</th>
                                <th>Age Group</th>
                                <th>Edit</th>
                                <th>Delete</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="person in viewModel.personDataSoure">
                                <td>{{person.Id}}</td>
                                <td>{{person.FirstName}}</td>
                                <td>{{person.LastName}}</td>
                                <td>{{person.Age}}</td>
                                <td>{{person.AgeGroup}}</td>
                                <!--Edit Command-->
                                <td>                                    
                                    <a class="btn btn-xs btn-success" id="editPersonBtn-{{person.Id}}" ng-click="viewModel.editPerson(person)">
                                        <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
                                    </a>
                                </td>
                                <!--Delete Command-->
                                <td>
                                    <a class="btn btn-xs btn-warning" id="deletePersonBtn-{{person.Id}}" ng-click="viewModel.deletePerson(person.Id)">
                                        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="panel-footer">
        <div class="row">
            <div class="col-lg-6">
                <!-- Indicates caution should be taken with this action -->
                <button type="button" class="btn btn-warning" disabled title="migrate data from local to server">Data Migration</button>
            </div>
            <div class="col-lg-6">
                <h4 class="pull-right">Total: 
                    <span class="label label-default">{{viewModel.personDataSoure.length}}</span>
                </h4>
            </div>
        </div>
    </div>
</div>

